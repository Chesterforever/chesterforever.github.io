---
title: GPIO进阶学习 非阻塞式编程思想
date: 2024-07-25 03:03:24
tags: [MCU,STM32H7]
index_img: /img/avatar.png
---

#### **GPIO进阶学习**

输出状态：推挽PV 开漏OD 支持复用 

可以支持速度选择（干扰较多就把速度调低）

输入状态：上拉 下拉 模拟（主要用于ADC） 浮空    支持复用

 可以从手册中看上拉下拉电阻的阻值

当配置为复用模式时，输入寄存器IDR可以正常读取，输出寄存器无法正常读取（由手册读出）

模拟输入寄存器可以直接读ADC（注意寄存器是否受基准电压影响）

备份域（RTC）



拉电流 灌电流 注入电流

  

#### **非阻塞式编程**

按键：  用循环队列fifo存储按键状态（按下 松开 长按），然后定时器每过固定时间检测fifo值，可以避免delay  

蜂鸣器：



**Event Recorder狂暴模式**

需要单独设置ram，然后用分散加载